# 🎄 미션 - 크리스마스 프로모션

## 📌 기능 구현 목록

1. 이벤트 진행을 위한 Controller인 *ChristmasController.class* 을 생성한다.
2. 이벤트를 시작한다.
    1. 12월 중 식당 예상 방문 날짜를 입력한다. (날짜는 숫자만 입력받는다.)
    2. 주문할 메뉴의 이름과 개수를 입력한다.(단일 메뉴: `이름-개수`, 복수 메뉴:`이름-개수,이름-개수`)
       1. 음료만 주문 시, 주문할 수 없다.
       2. 메뉴는 최대 20개까지만 주문이 가능하다. (메뉴의 개수 총합 기준)
    3. 주문 메뉴 리스트를 출력한다. (메뉴이름과 갯수는 공백으로 구분한다.)
    4. 할인 전 총주문 금액을 출력한다. (단위는 `원`단위로, 숫자 3자리 마다 쉼표`,`로 구분한다.)
   #### 총주문 금액 10,000원 이상부터 이벤트가 적용된다.
    5. 증정 메뉴를 출력한다.
        1. 증정 메뉴는 `증정 이벤트`를 반영한다.
            - 할인 전 총주문 금액이 12만 원 이상일 때, **샴페인 1개** 증정한다.
            - 샴페인의 가격은 메뉴표를 참고하여 25,000원으로 책정한다.
            - 증정 메뉴가 없을 경우 `없음`으로 출력한다.
    6. 혜택 내역을 출력한다.
       - 혜택 내역이 없을 경우 `없음`으로 출력한다.
       1. `혜택명: 할인금액`을 출력한다. (크리스마스 디데이 할인: -1,200원)
       2. 혜택 내역은 `12월 이벤트 계획`를 반영한다.
          - 크리스마스 디데이 할인
            - 이벤트 기간: `2023.12.1 ~ 2023.12.25`
              1,000원으로 시작하여 크리스마스가 다가올수록 날마다 할인 금액이 100원씩 증가
          - 평일 할인(일요일~목요일)
            - 평일에는 **디저트 메뉴**를 메뉴 1개당 2,023원 할인
          - 주말 할인(금요일, 토요일)
            - 주말에는 **메인 메뉴**를 메뉴 1개당 2,023원 할인
          - 특별 할인
            - 이벤트 달력에 별이 있으면 총주문 금액에서 1,000원 할인
            - 별이 있는 날짜는 매주 일요일 (*3, 10, 17, 24, 31*)과 크리스마스(*25*)이다.
          - 증정 이벤트
            - 할인 전 총주문 금액이 12만 원 이상일 때, 샴페인 1개 증정
       3. 이벤트 기간: `크리스마스 디데이 할인`을 제외한 다른 이벤트는 `2023.12.1 ~ 2023.12.31` 동안 적용
    7. 총혜택 금액을 출력한다.(단위는 `원`단위로, 숫자 3자리 마다 쉼표`,`로 구분한다.)
       - 총혜택 금액이 0원일 경우 `0원`으로 출력한다.
       1. 총혜택 금액 = 할인 금액의 합계 + 증정 메뉴의 가격
    8. 할인 후 예상 결제 금액을 출력한다. 
       1. 할인 후 예상 결제 금액 = 할인 전 총주문 금액 - 할인 금액
    9. 12월 이벤트 배지를 출력한다.
       - 이벤트 배지가 부여되지 않는 경우, `없음`으로 출력한다.
       - 5천 원 이상: 별
       - 1만 원 이상: 트리
       - 2만 원 이상: 산타

## MVC 패턴 역할
### Model
#### Domain
- **Calendar**
  - Calendar는 `12월 이벤트 계획` 날짜 관리를 위한 도메인이다.
  - 2023년 12월 1일 ~ 2023년 12월 31일로 날짜 범위를 정한다.
    - 평일(weekday): 할인(일요일 ~ 목요일)
    - 주말(weekend): 할인(금요일, 토요일)
    - 디데이 할인: 2023
    - 특별 할인: 이벤트 달력에 별이 있다. (*3, 10, 17, 24, 31, 25*)
- **Menu**
  - Menu는 메뉴 이름, 가격, 수량, 카테고리에 대한 정보를 가지고 있는 도메인으로 추상클래스이다.
  - 4개의 카테고리로 나누어 자식클래스를 구현한다.
    - Appetizer
    - Drink
    - Dessert
    - Main
- **EventManager**
  - 고객이 주문한 메뉴 리스트를 관리한다.
  - 주문한 메뉴 리스트의 총금액, 할인금액 등을 관리한다.
  - 증정 이벤트, 할인 이벤트 등 이벤트에 충족되는 총주문금액인지 여부 판별
  - 할인 혜택별 조건 여부
    - 증정 이벤트 조건을 충족하는가?
    - 혜택 내역 조건을 충족하는가?
    - 뱃지 부여 조건을 충족하는가?
- **DiscountPolicy(Interface)**
  - 새로운 할인 정책이 추가되거나 기존의 할인 정책이 변경되어도 주어진 할인 정책을 적용할 수 있다. 
  - 크리스마스 디데이, 주말, 평일, 특별 할인, 증정 메뉴 정책 구현체를 생성한다.
- **DiscountCondition(Interface)**
  - 새로운 할인 조건이 추가되거나 기존의 할인 조건이 변경되어도 주어진 할인 조건을 적용할 수 있다. 
  - 크리스마스 디데이, 주말, 평일, 특별 할인 조건 구현체를 생성한다.
#### Enum
- **Category**
  - Enum Type 카테고리를 Appetizer, Drink, Dessert, Main으로 분리한다.
- **Price**
  - Enum Type 가격을 메뉴판을 통해 메뉴 금액을 선언한다.
- **EventBadge**
  - Enum Type 이벤트 뱃지 종류를 가지고 있다.
  - 혜택 금액별 이벤트 뱃지를 부여하는 메서드를 구현한다.
#### Service
- **MenuService**
  - `메뉴표`에 명시된 메뉴 이름 및 가격을 이벤트 진행 전에 초기화한다.
  - 고객에게 주문받은 메뉴를 EventManager에게 메뉴 및 금액 정보를 전달한다.
- **EventManagerService**
  - 할인 정책 및 할인 조건
    - 크리스마스 데일리 할인 정책 및 조건을 적용한다.
    - 평일 할인 정책 및 조건을 적용한다.
    - 주말 할인 정책 및 조건을 적용한다.
    - 특별 할인 정책 및 조건을 적용한다.
    - 증정 이벤트 정책을 적용한다.
### View
- **InputView**
  - 사용자의 입력 로직을 처리한다.
    - 날짜를 입력받는다.
    - 메뉴를 입력받는다.
- **OutputView**
  - Controller의 출력 로직을 처리한다.
    - 계산된 할인 전 총주문 금액을 출력한다.
    - 증정 메뉴 적용여부에 따른 메뉴를 출력한다.
    - 혜택 내역 적용여부에 따른 혜택 내역을 출력한다.
    - 총혜택 금액 산정에 따른 금액을 출력한다.
    - 할인 후 예상 결제 금액 산정에 따른 금액을 출력한다.
    - 혜택 금액에 따른 12월 이벤트 배지 종류를 출력한다.
    
## 📌 예외처리 목록

- 예외는 Exception이 아닌 IllegalArgumentException, IllegalStateException 등과 같은 명확한 유형을 처리한다.
- 사용자가 잘못된 값을 입력할 경우 IllegalArgumentException를 발생시키고, `[ERROR]`로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.
    - **예외발생 시 Application가 종료되어선 안 된다.**
### View
- **InputView**
    - 사용자의 입력 로직을 예외 처리한다.
    - 방문 날짜 입력
      - 입력 값은 정수형으로 입력받는다.
      - 방문할 날짜는 1 이상 31 이하의 숫자로만 입력받는다.
    - 메뉴 입력
      - 고객이 메뉴판에 없는 메뉴를 입력하는 경우
      - 메뉴의 개수는 1 이상의 숫자만 입력받는다.
      - 메뉴 형식이 예시와 다른 경우 예외를 발생한다.
        - 단일메뉴 시, `1번메뉴이름-1번메뉴갯수,2번메뉴이름-2번메뉴갯수`
        - 복수메뉴 시, `1번메뉴이름-1번메뉴갯수`
      - 중복 메뉴를 입력한 경우 예외를 발생한다.
      - 음료만 주문 시, 주문할 수 없으므로 예외를 발생한다.
      - 메뉴는 한 번에 최대 20개까지만 주문할 수 있다.
        - 메뉴 이름 개수가 아닌, 메뉴 수량이 총합 20개를 넘어서는 안 된다.
- **OutputView**